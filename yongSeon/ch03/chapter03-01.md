## 애그리거트
- 복잡한 도메인의 관련된 관계를 나열해놓고 본다면 해당 도메인이 어떻게 동작하는지 이해하기 어렵다.
- 도메인 구조가 복잡하다는 것은 테스트하기도 어렵고 확장하기에도 어려움이 많다. 
![img.png](image%2Fimg.png)
- 그렇다면 쉽게 이해할 수 있는 구조로 풀어내야한다. 바로 상위 개념으로 묶어서 도메인의 관계를 풀어내는 것이다.
- 상위개념의 도메인을 통해 관계를 이해하고 상위 도메인의 내부릍 통해 도메인의 상세 구조를 이해하는 것이다.
![img_1.png](image%2Fimg_1.png)

### 애그리거트의 특정
- 복잡한 도메인의 구조를 단순화시켜준다.
- 복잡성이 낮아지는 만큼 도메인 기능을 확장하고 변경하는데 시간이 덜 들어간다.
- 애그리거트는 유사한 도메인을 하나로 묶었기 때문에 같은 생명주기를 가지거나 유사한 생명주기를 가진다.
- 애그리거트는 경계를 가지고 있으며 하나의 독립된 객체이다. 주문 에그리거트에서는 유저의 비밀번호를 수정하지 않는 것처럼
- 애그리거트의 경계는 서로 얼마나 간섭하여 변경하느냐에 따라 달린다. 예를 들어 주문이라는 애그리거트는 생성하는 동시에 주문 정보, 배송지, 상품 정보, 주문자 정보등은 함께 같이 생성되기 때문에
같은 애그리거트이다. 주문한 상품정보가 변경되면 주문 금액이 변경되고 배송지가 변경되면 배송정보가 변경되기도 한다.
- 상품리뷰와 상품은 리뷰가 변경된다고해도 상품은 변경되지 않기 때문에 다른 애그리거트로 분리를 한다.
- 도메인에 대한 경험이 생기고 지식이 쌓일수록 애그리거트의 크기는 점점 줄어든다.